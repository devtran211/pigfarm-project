<div id="currentBarn" data-id="{{barn._id}}"></div>
<div class="main-wrapper">
    <div class="container">
        <div class="right-column">
            
            <div class="section-card tech-metrics">
                <h3>Barn health</h3>
                <div class="metric-item">
                    <span class="value">Average weight</span>
                    <span id="bh-averageWeight" class="label"></span>
                </div>
                <div class="metric-item">
                    <span class="value">Loss</span>
                    <span id="bh-loss" class="label"></span>
                </div>
                    <div class="metric-item">
                    <span class="value">Faeces status</span>
                    <span id="bh-faecesStatus" class="label"></span>
                </div>
            </div>

            <div class="section-card table-section">
                    <div class="section-card-header">
                        <h3>Herd list</h3>
                        <button class="add-button">Import herd</button>
                    </div>
                    <table class="animal-table">
                        <thead>
                            <tr>
                                <th>Herd code</th> 
                                <th>Quantity</th> 
                                <th>Avg.Weight</th> 
                                <th>Sex</th> 
                                <th>Import date</th>
                            </tr>
                        </thead>
                        <tbody id="herdTableBody">
                            {{#each barnHerdDetails}}
                            <tr>
                                <td>{{this.herdCode}}</td>
                                <td>{{this.importQuantity}}</td>
                                <td>{{this.avgWeight}}</td>
                                <td>{{this.sex}}</td>
                                <td>{{formatDate this.importDate}}</td>    
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
            </div>

            {{!-- <div class="section-card program-section">
                <div class="icon">&#128462;</div>
                <p>Ch∆∞a c√≥ ch∆∞∆°ng tr√¨nh nu√¥i ƒë∆∞·ª£c ch·ªçn.</p>
                <button class="add-button">Ch·ªçn th√™m</button>
            </div> --}}

            <div class="section-card">
                <div class="diary-tabs">
                    <div class="diary-tab active">Diary</div>
                    {{!-- <div class="diary-tab">Th·ª©c ƒÉn</div>
                    <div class="diary-tab">Thu·ªëc tr·ªôn</div>
                    <div class="diary-tab">Vi·ªác ƒë√£ l√†m</div>
                    <div class="diary-tab">Th√¥ng s·ªë v·∫≠t nu√¥i</div> --}}
                    <button style="position: absolute; right: 0; top: 10px; border: none; background: none;">&#8942;</button>
                </div>
                <div class="diary-content">
                    <div class="timeline-icon">&#128197;</div>
                    <p>No data</p>
                </div>
            </div>
        </div>

        <div class="left-column">
            
            <div class="section-card">
                <div class="section-card-header" style="justify-content: flex-start; align-items: flex-start; gap: 10px;">
                    <h3 style="flex-grow: 1;">Breeding batch information</h3>
                    <button style="background: none; border: none; font-size: 16px; cursor: pointer;">&#9998;</button>
                    <button style="background: none; border: none; font-size: 16px; cursor: pointer;">&#8942;</button>
                </div>
                <div class="farm-info">
                    <h4>First batch, from 12/11/2025</h4>
                    <p><span class="status-dot"></span> <span class="status-text">Currently operating</span></p>
                </div>
            </div>

            <div class="section-card chart-section">

                <h3>Cost allocation chart</h3>

                <div class="chart-area">
                    <div class="chart-container">
                        <canvas id="costChart"></canvas>
                    </div>

                        <div class="chart-legend">
                            <div class="legend-item">
                                <span class="legend-color" style="background-color: #ffeb3b;"></span> Food
                            </div>
                            <div class="legend-item">
                                <span class="legend-color" style="background-color: #ff9800;"></span> Medition
                            </div>
                            <div class="legend-item">
                                <span class="legend-color" style="background-color: #9c27b0;"></span> Breeding
                            </div>
                            <div class="legend-item">
                                <span class="legend-color" style="background-color: #4caf50;"></span> Others
                            </div>
                        </div>
                </div>

                <div class="summary-footer">
                    <div class="summary-item cost">
                        <div class="label">TOTAL</div>
                        <div class="value">400,000,000‚Ç´</div>
                    </div>
                </div>
            </div>
    </div>
</div>

<div class="modal-overlay">
    <div class="modal-content">
        
        <div class="header">
            <h2>Import herd</h2>
            <button class="close-btn" aria-label="ƒê√≥ng">&times;</button>
        </div>

        <div class="form-body">

            <div class="form-grid">
                <div class="form-group">
                <label> Code </label>
                <input type="text" name="herdCode">
                </div>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                <label> Select herd <span class="required">*</span></label>
                <select name="herd">
                    <option value="">-- Select herd --</option>		
                </select>
            </div>

            <div class="form-group">
                <label> Quantity <span class="required">*</span></label>
                <input type="number" name="quantity">
            </div>  

            <div class="form-group">
                <label> Average weight <span class="required">*</span></label>
                <input type="text" name="avgWeight">
            </div>  

            <div class="form-group">
                <label> Import date <span class="required">*</span></label>
                <input type="date" name="importDate">
            </div>
                
        </div>

            <div class="form-group full-width">
                <label>Note</label>
                <textarea name="note"></textarea>
            </div>

        </div>

        <div class="footer">
            <button class="save-btn">
                <i class="fas fa-save"></i> &#x1F4BE; Save
            </button>
        </div>

    </div>
</div>

<div id="editHerdModal" class="modal-overlay">
    <div class="modal-content">
        
        <div class="header">
            <h2>Edit herd</h2>
            <button class="close-btn" aria-label="ƒê√≥ng">&times;</button>
        </div>

        <div class="form-body">

            <div class="form-grid">
                <div class="form-group">
                <label> Code </label>
                <input type="text" name="herdCode">
                </div>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                <label> Select herd <span class="required">*</span></label>
                <select name="herd">
                    <option value=""></option>		
                </select>
            </div>

            <div class="form-group">
                <label> Quantity <span class="required">*</span></label>
                <input type="number" name="quantity">
            </div>  

            <div class="form-group">
                <label> Average weight <span class="required">*</span></label>
                <input type="text" name="avgWeight">
            </div>  

            <div class="form-group">
                <label> Import date <span class="required">*</span></label>
                <input type="date" name="importDate">
            </div>
                
        </div>

            <div class="form-group full-width">
                <label>Note</label>
                <textarea name="note"></textarea>
            </div>

        </div>

        <div class="footer">
            <button class="save-btn">
                <i class="fas fa-save"></i> &#x1F4BE; Save
            </button>
        </div>

    </div>
</div>

<div id="splitHerdModal" class="modal-backdrop">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Split herd</h3>
            <span class="close-btn">&times;</span>
        </div>

        <div class="modal-body">
            
            <div class="form-row">
                <div class="form-group">
                    <label for="selectBarn">Select barn *</label>
                    <select id="selectBarn" required>
                        <option value="" disabled selected>Select barn</option>
                        </select>
                </div>
                <div class="form-group">
                    <label for="quantity">Quantity *</label>
                    <input type="number" id="quantity" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="averageWeight">Average weight</label>
                    <input type="number" id="averageWeight" required>
                </div>
                <div class="form-group empty-spacer"></div> 
            </div>

            <div class="form-row">
            <div class="form-group">
                <label for="tags">Tags</label>
                <div id="tagsContainer">
                    <div class="input-with-button tag-input-group">
                        <input type="text" class="tag-input" placeholder="Enter tag">
                        <button type="button" class="add-tag-btn">+</button>
                    </div>
                </div>
            </div>
            <div class="form-group empty-spacer"></div> 
        </div>

            <div class="form-group full-width">
                <label for="note">Note</label>
                <textarea id="note" rows="4"></textarea>
            </div>

        </div>

        <div class="modal-footer">
            <button class="save-btn">
                <i class="fas fa-save"></i> &#x1F4BE; Save
            </button>
        </div>
    </div>
</div>

<div id="pigListModal" class="modal-overlay" style="display:none;">
    <div class="modal-content" style="max-width: 700px;">
        
        <div class="header">
            <h2>Pig list - <span id="pigListHerdName"></span></h2>
            <button class="close-btn" onclick="closePigListModal()">&times;</button>
        </div>

        <div class="form-body">
            <table class="custom-table">
                <thead>
                    <tr>
                        <th>Tag</th>
                        <th>Sex</th>
                        <th>Status</th>
                        <th>Birth date</th>
                    </tr>
                </thead>
                <tbody id="pigListBody"></tbody>
            </table>
        </div>
    </div>
</div>


<script src="/js/chart.js"></script> 
<script src="/js/info-barn.js"></script>

<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background-color: #f0f2f5;
    color: #333;
    line-height: 1.6;
}

.main-wrapper {
    /* V√πng ch·ª©a to√†n b·ªô n·ªôi dung, cƒÉn ch·ªânh cho sidebar 230px */
    margin-left: 10px; /* 230px (sidebar) + 20px (padding/gap) */
    padding: 0 20px 20px 0; /* Padding ph·∫£i v√† d∆∞·ªõi */
}

.container {
    width: 100%;
    display: flex;
    gap: 20px;
}

/* CARD STYLES */
.section-card {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    padding: 20px;
}

/* --- RIGHT COLUMN (Ch·ªâ s·ªë Kƒ© thu·∫≠t & B·∫£ng) --- */
.right-column {
    flex: 2; /* Chi·∫øm 2/3 kh√¥ng gian */
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* Ch·ªâ s·ªë k·ªπ thu·∫≠t (Top Bar) */
.tech-metrics {
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
    flex-wrap: wrap; 
}

.tech-metrics h3 {
    font-size: 16px;
    font-weight: bold;
    margin: 0;
    color: #333;
    min-width: 100px; 
}

.metric-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 5px 0;
    flex-grow: 1; /* Cho ph√©p c√°c m·ª•c m·ªü r·ªông */
    flex-shrink: 1;
    min-width: 80px; 
}

.metric-item:not(:last-child) {
        border-right: 1px dashed #eee; 
}

.metric-item .value {
    font-size: 14px;
    font-weight: bold;
    color: #333;
}

.metric-item .label {
    font-size: 12px;
    color: #777;
    white-space: nowrap;
}

.goal-button {
    background-color: #6a60e3;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    font-size: 13px;
    font-weight: bold;
    cursor: pointer;
    white-space: nowrap;
}

/* B·∫£ng danh s√°ch v·∫≠t nu√¥i (Table Section) */
.table-section .section-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #eee;
    padding-bottom: 15px;
    margin-bottom: 0;
}

.table-section h3 {
        font-size: 16px;
        font-weight: bold;
}

.add-button {
    background-color: #28a745; 
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    font-size: 13px;
    font-weight: bold;
    cursor: pointer;
}

.animal-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
    /* 1. B·∫Øt bu·ªôc: ƒê·∫£m b·∫£o b·∫£ng tu√¢n th·ªß chi·ªÅu r·ªông c·ªë ƒë·ªãnh */
    table-layout: fixed; 
}

.animal-table th, .animal-table td {
    padding: 10px 10px; /* Gi·∫£m padding ngang ƒë·ªÉ c√≥ th√™m kh√¥ng gian */
    font-size: 13px;
    border-bottom: 1px solid #eee;
    text-align: left;
    overflow: hidden; /* NgƒÉn n·ªôi dung tr√†n ra ngo√†i */
    white-space: nowrap; /* Gi·ªØ n·ªôi dung tr√™n m·ªôt d√≤ng */
    text-overflow: ellipsis; /* Th√™m d·∫•u "..." n·∫øu b·ªã tr√†n */
}

/* 2. Chia ƒë·ªÅu chi·ªÅu r·ªông cho 6 c·ªôt ch√≠nh (<th>) */
.animal-table th {
    /* D√†nh 5% cho c·ªôt h√†nh ƒë·ªông cu·ªëi, 95% c√≤n l·∫°i chia cho 6 c·ªôt (95/6 ‚âà 15.83%) */
    width: 15.8%; 
    background-color: #f8fafc;
    color: #777;
    font-weight: bold;
}

/* 3. ƒê·∫∑t chi·ªÅu r·ªông nh·ªè cho c·ªôt h√†nh ƒë·ªông cu·ªëi c√πng (√¥ th·ª© 9 trong <tbody>) */
/* C·ªôt n√†y l√† √¥ cu·ªëi c√πng ch·ª©a bi·ªÉu t∆∞·ª£ng &#8942; */
.animal-table td:last-child {
    width: 5%; 
    text-align: center;
}

/* C·ªôt ƒë·∫ßu ti√™n (th∆∞·ªùng l√† s·ªë th·ª© t·ª±) c≈©ng n√™n nh·ªè */
.animal-table td:first-child {
    width: 5%;
    text-align: center;
}

/* Ch∆∞∆°ng tr√¨nh nu√¥i & Nh·∫≠t k√Ω (Box 3 & 4) */
.program-section {
    text-align: center;
    padding: 40px 20px;
    color: #777;
}

.diary-tabs {
    display: flex;
    border-bottom: 1px solid #eee;
    margin-bottom: 20px;
    position: relative; 
}

.diary-tab {
    padding: 10px 15px;
    cursor: pointer;
    font-size: 13px;
    color: #777;
    border-bottom: 2px solid transparent;
    transition: all 0.3s;
    white-space: nowrap; 
}

.diary-tab.active {
    color: #1890ff;
    border-bottom-color: #1890ff;
    font-weight: bold;
}

.diary-content {
    text-align: center;
    padding: 50px 20px;
    color: #777;
}

/* --- LEFT COLUMN (Th√¥ng tin & Chart) --- */
.left-column {
    flex: 1; /* Chi·∫øm 1/3 kh√¥ng gian */
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* Th√¥ng tin l·ª©a nu√¥i (Box 1) */
.farm-info h4 {
    font-size: 15px;
    font-weight: bold;
    margin: 0 0 5px 0;
}

.status-dot {
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: #28a745; 
    margin-right: 5px;
}

.status-text {
    font-size: 13px;
    color: #28a745;
    font-weight: bold;
}

.file-excel-btn {
    background-color: #e6f7ff;
    color: #1890ff;
    border: 1px solid #91d5ff;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 15px;
    font-size: 13px;
}

/* Bi·ªÉu ƒë·ªì ph√¢n b·ªï chi ph√≠ (Box 2) */
.chart-section {
        display: flex;
        flex-direction: column;
        height: 100%; /* Quan tr·ªçng ƒë·ªÉ flex ho·∫°t ƒë·ªông */
}

.chart-tabs {
    display: flex;
    border-bottom: 1px solid #eee;
    margin-bottom: 20px;
}

.chart-tabs h3 {
        font-size: 16px;
        font-weight: bold;
        margin: 0 0 15px 0;
}

.chart-area {
    display: flex;
    align-items: center;
    justify-content: space-around; /* CƒÉn ƒë·ªÅu bi·ªÉu ƒë·ªì v√† ch√∫ th√≠ch */
    gap: 15px;
    flex-grow: 1; /* Quan tr·ªçng: Cho ph√©p ph·∫ßn bi·ªÉu ƒë·ªì m·ªü r·ªông */
    flex-wrap: wrap;
}

/* ƒêi·ªÅu ch·ªânh k√≠ch th∆∞·ªõc Chart */
.pie-chart {
    width: 200px; 
    height: 200px;
    border-radius: 50%;
    background-image: conic-gradient(
        #ffeb3b 0% 15%,     /* V√†ng */
        #ff9800 15% 25%,    /* Cam */
        #f44336 25% 35%,    /* ƒê·ªè */
        #9c27b0 35% 45%,    /* T√≠m */
        #00bcd4 45% 55%,    /* Xanh nh·∫°t */
        #2196f3 55% 75%,    /* Xanh ƒë·∫≠m */
        #4caf50 75% 100%    /* Xanh l√° c√¢y */
    );
    position: relative;
}

.pie-chart::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100px; 
    height: 100px;
    border-radius: 50%;
    background-color: white;
}

.chart-legend {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
    font-size: 13px;
    color: #555;
    max-width: 300px;
}

.legend-item {
    display: flex;
    align-items: center;
    white-space: nowrap;
}

.legend-color {
    width: 12px;
    height: 12px;
    border-radius: 3px;
    margin-right: 8px;
}

/* T·ªïng k·∫øt doanh thu (Box 3) */
.summary-footer {
    display: flex;
    justify-content: space-between;
    padding: 20px;
    border-top: 1px solid #eee;
    margin-top: auto; /* ƒê·∫©y xu·ªëng cu·ªëi n·∫øu c·∫ßn */
}

.summary-item {
    text-align: center;
    flex: 1;
}

.summary-item .label {
    font-size: 13px;
    color: #777;
    margin-bottom: 5px;
}

.summary-item .value {
    font-size: 16px;
    font-weight: bold;
}

.summary-item.revenue .value { color: #28a745; } 
.summary-item.cost .value { color: #dc3545; } 
.summary-item.profit .value { color: #17a2b8; } 

/* RESPONSIVE */
@media (max-width: 1200px) {
    .main-wrapper {
        margin-left: 20px; /* B·ªè l·ªÅ n·∫øu sidebar ·∫©n */
    }
}

@media (max-width: 992px) {
    .container {
        flex-direction: column;
    }
    .tech-metrics {
        flex-wrap: wrap;
        justify-content: flex-start;
    }
    .tech-metrics .metric-item {
        border-right: none;
        width: 30%; 
        margin-bottom: 10px;
    }
    .tech-metrics .metric-item:nth-child(3n) {
        border-right: none;
    }
}

.chart-area {
    display: flex;
    gap: 20px;
    align-items: center;
    justify-content: flex-start;
}

.chart-container {
    width: 240px;
    height: 240px;
}

#costChart {
    width: 100% !important;
    height: 100% !important;
}

.chart-legend {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.legend-item {
    font-size: 14px;
    display: flex;
    align-items: center;
    gap: 6px;
}

.legend-color {
    width: 14px;
    height: 14px;
    border-radius: 3px;
    display: inline-block;
}

/* ----- Popup Css ----- */
body {
    font-family: Arial, sans-serif;
    background-color: #f4f7f6;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

/* Container c·ªßa Popup */
.modal-overlay-lay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.2); /* N·ªÅn m·ªù ph√≠a sau */
    display: flex;
    justify-content: center;
    align-items: center;
}

.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.2); /* N·ªÅn m·ªù ph√≠a sau */
    display: none;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    width: 100%;
    max-width: 500px;
    overflow: hidden;
}

/* Header */
.header {
    padding: 15px 20px;
    border-bottom: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.header h2 {
    margin: 0;
    font-size: 18px;
    color: #333;
}

.close-btn {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: #aaa;
}

/* Body (N·ªôi dung Form) */
.form-body {
    padding: 20px;
}

/* B·ªë c·ª•c Grid 2 c·ªôt */
.form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 15px;
}

/* ƒê·ªãnh d·∫°ng chung cho Input/Select */
.form-group {
    display: flex;
    flex-direction: column;
    width: 100%;
}

.form-group label {
    font-size: 13px;
    color: #555;
    margin-bottom: 5px;
}

.form-group label .required {
    color: #e3342f; /* M√†u ƒë·ªè cho d·∫•u * */
}

.form-group input, 
.form-group select,
.form-group .custom-select-control {
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
    box-sizing: border-box;
    width: 100%;
}

/* C·∫ßn thi·∫øt l·∫≠p cho c√°c tr∆∞·ªùng chi·∫øm h·∫øt chi·ªÅu r·ªông */
.full-width {
    grid-column: 1 / -1; /* Chi·∫øm c·∫£ hai c·ªôt */
}

/* Custom style cho Khu nu√¥i (c√≥ n√∫t +) */
.input-with-icon {
    display: flex;
    align-items: center;
}

.input-with-icon input,
.input-with-icon select {
    flex-grow: 1;
    border-right: none;
    border-radius: 4px 0 0 4px;
}

.input-with-icon button {
    background-color: #f8fafc;
    border: 1px solid #ddd;
    border-left: none;
    padding: 10px 12px;
    cursor: pointer;
    color: #38c172; /* M√†u xanh l√° c√¢y */
    font-size: 16px;
    border-radius: 0 4px 4px 0;
    line-height: 1;
}

/* Custom style cho Lo·∫°i thu ho·∫°ch (ƒëa ch·ªçn/tag) */
.harvest-select-control {
    display: flex;
    align-items: center;
    min-height: 40px;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 5px 10px;
    background-color: white;
}

.harvest-tag {
    display: inline-flex;
    align-items: center;
    background-color: #cfebe6; /* M√†u xanh nh·∫°t */
    color: #2c7a7b;
    padding: 4px 8px;
    margin-right: 5px;
    border-radius: 4px;
    font-size: 13px;
}

.harvest-tag span {
    margin-left: 5px;
    cursor: pointer;
    font-weight: bold;
}

.harvest-arrow {
    margin-left: auto;
    color: #888;
}

/* Textarea */
.form-group textarea {
    resize: vertical;
    min-height: 80px;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
}

/* Footer (N√∫t L∆∞u) */
.footer {
    padding: 20px;
    border-top: 1px solid #eee;
    background-color: #f9f9f9;
}

.save-btn {
    width: 100%;
    padding: 12px;
    background-color: #79c9b1; /* M√†u xanh ng·ªçc */
    color: white;
    border: none;
    border-radius: 4px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.save-btn i {
    margin-right: 8px;
}

.action-more {
    cursor: pointer;
    font-size: 20px;
    padding: 5px;
}

.action-cell,
.action-wrapper,
.action-menu {
    overflow: visible !important;
}

.action-cell {
    position: relative;
}

.action-menu {
    display: none;
    position: absolute;
    right: 0;
    top: 22px;
    background: #fff;
    border: 1px solid #ccc;
    border-radius: 6px;
    min-width: 140px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    z-index: 9999;
    padding: 4px 0;
}

.action-menu button {
    display: block !important;        /* üî• CHO XU·ªêNG D√íNG */
    width: 100%;                      /* üî• TR·∫¢I NGANG MENU */
    border: none;
    background: none;
    padding: 10px 14px;
    text-align: left;
    cursor: pointer;
    font-size: 14px;
    color: #333;
    white-space: nowrap;              /* TR√ÅNH TEXT XU·ªêNG D√íNG */
}

.action-menu button:hover {
    background: #f5f5f5;
}

table {
    overflow: visible !important;
}

tr {
    overflow: visible !important;
}

td {
    overflow: visible !important;
}

/* ------ CSS Split herd ------ */
body {
    font-family: Arial, sans-serif;
    background-color: #f0f2f5; 
}

/* L·ªõp ph·ªß n·ªÅn */
.modal-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

/* N·ªôi dung h·ªôp tho·∫°i */
.modal-content {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    width: 90%;
    max-width: 500px;
    overflow: hidden;
    max-height: 90vh; /* Gi·ªõi h·∫°n chi·ªÅu cao t·ªëi ƒëa c·ªßa modal l√† 90% viewport height */
    overflow-y: auto;
}

/* Ti√™u ƒë·ªÅ */
.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 1px solid #eee;
}

.modal-header h3 {
    margin: 0;
    font-size: 18px;
    font-weight: 600;
    color: #333;
}

.close-btn {
    cursor: pointer;
    font-size: 24px;
    color: #999;
}

/* N·ªôi dung ch√≠nh v√† C·∫•u tr√∫c Form */
.modal-body {
    padding: 20px;
}

.form-row {
    display: flex;
    gap: 20px;
    margin-bottom: 0; /* Gi·∫£m margin bottom v√¨ form-group c√≥ margin */
}

.form-group {
    flex: 1; /* Chia ƒë·ªÅu kh√¥ng gian trong form-row */
    display: flex;
    flex-direction: column;
    margin-bottom: 20px;
}

.form-group.full-width {
    flex: none;
}

/* ƒêi·ªÅu ch·ªânh ƒë·ªÉ Average weight ng·∫Øn l·∫°i b·∫±ng v·ªõi Select barn */
.form-group.empty-spacer {
    visibility: hidden; 
    margin-bottom: 0; /* Lo·∫°i b·ªè kho·∫£ng tr·∫Øng kh√¥ng c·∫ßn thi·∫øt */
}

.form-group label {
    font-size: 14px;
    font-weight: 500;
    margin-bottom: 5px;
    color: #555;
}

.form-group input[type="text"],
.form-group input[type="number"],
.form-group select,
.form-group textarea {
    padding: 10px 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 14px;
    width: 100%;
    box-sizing: border-box;
    transition: border-color 0.2s;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    border-color: #38b2ac; /* M√†u xanh l√°/xanh ng·ªçc */
    outline: none;
}

.form-group textarea {
    resize: vertical;
    min-height: 80px;
}

/* Styling cho Tags Container */
#tagsContainer {
    display: flex;
    flex-direction: column;
    gap: 10px; /* Kho·∫£ng c√°ch gi·ªØa c√°c d√≤ng tags */
}

.input-with-button {
    display: flex;
    align-items: center;
    width: 100%;
}

.input-with-button input {
    flex-grow: 1;
    /* M·∫∑c ƒë·ªãnh cho input tag ƒë·∫ßu ti√™n (tr∆∞·ªõc khi ƒë∆∞·ª£c th√™m) */
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
    border-right: none;
}

/* N√∫t Th√™m (+) */
.add-tag-btn {
    background-color: #38b2ac; /* M√†u xanh l√°/xanh ng·ªçc */
    color: white;
    border: 1px solid #38b2ac;
    padding: 9px 15px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    border-top-right-radius: 4px;
    border-bottom-right-radius: 4px;
    height: 40px; 
    line-height: 1;
    transition: background-color 0.2s;
}

.remove-tag-btn {
    background-color: #dc3545; /* ƒê·ªè */
    color: white;
    border: 1px solid #dc3545;
    padding: 9px 15px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    border-radius: 4px; /* Sau khi chuy·ªÉn th√†nh n√∫t x√≥a, n√≥ kh√¥ng c·∫ßn d√≠nh v√†o input n·ªØa */
    height: 40px; 
    line-height: 1;
    margin-left: 5px; 
    transition: background-color 0.2s;
}

/* Popup Pig List Table */
#pigListModal .custom-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
}

#pigListModal .custom-table th,
#pigListModal .custom-table td {
    padding: 10px 12px;
    text-align: left;
    border-bottom: 1px solid #eee;
    font-size: 14px;
    white-space: nowrap;
}

#pigListModal .custom-table th {
    background: #f7f7f7;
    color: #555;
    font-weight: bold;
}

#pigListModal .custom-table tr:hover {
    background: #f4faff;
}

#pigListModal .modal-content {
    padding: 0;
}

#pigListModal .form-body {
    padding: 20px;
}

#pigListModal h2 {
    margin: 0;
}

#pigListModal .header {
    padding: 16px 20px;
    border-bottom: 1px solid #eee;
}

#pigListModal .footer {
    padding: 20px;
    border-top: 1px solid #eee;
    background: #f9f9f9;
}

#pigListModal .save-btn {
    font-size: 16px;
}

</style>